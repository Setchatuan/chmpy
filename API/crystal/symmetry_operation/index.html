
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://peterspackman.github.io/chmpy/API/crystal/symmetry_operation/" rel="canonical"/>
<link href="../../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.4.0" name="generator"/>
<title>symmetry_operation - chmpy</title>
<link href="../../../assets/stylesheets/main.fe0cca5b.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.a46bcfb3.min.css" rel="stylesheet"/>
<meta content="#8bc34a" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body data-md-color-accent="" data-md-color-primary="light-green" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#chmpy.crystal.symmetry_operation">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="chmpy" class="md-header-nav__button md-logo" href="https://peterspackman.github.io/chmpy/" title="chmpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            chmpy
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              symmetry_operation
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="chmpy" class="md-nav__button md-logo" href="https://peterspackman.github.io/chmpy/" title="chmpy">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    chmpy
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../.." title="chmpy">
      chmpy
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../parallel/" title="Parallelization">
      Parallelization
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../shape_descriptors/" title="Shape descriptors">
      Shape descriptors
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      API
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="API" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../sampling/" title="Sampling">
      Sampling
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../shape_descriptors/" title="Shape descriptors">
      Shape descriptors
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" id="nav-4-3" type="checkbox"/>
<label class="md-nav__link" for="nav-4-3">
      Core
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Core" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Core
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/element/" title="element">
      element
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../core/molecule/" title="molecule">
      molecule
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4" id="nav-4-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4-4">
      Crystal
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Crystal" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-4">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Crystal
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../asymmetric_unit/" title="asymmetric_unit">
      asymmetric_unit
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../crystal/" title="crystal">
      crystal
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../space_group/" title="space_group">
      space_group
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        symmetry_operation
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="symmetry_operation">
      symmetry_operation
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation">
    chmpy.crystal.symmetry_operation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation">
    SymmetryOperation
  </a>
<nav aria-label="SymmetryOperation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.cif_form">
    cif_form
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.integer_code">
    integer_code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.seitz_matrix">
    seitz_matrix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__add__">
    __add__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__sub__">
    __sub__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.apply">
    apply()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.from_integer_code">
    from_integer_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.from_string_code">
    from_string_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.identity">
    identity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.inverted">
    inverted()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.is_identity">
    is_identity()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.decode_symm_int">
    decode_symm_int()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.decode_symm_str">
    decode_symm_str()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.encode_symm_int">
    encode_symm_int()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.encode_symm_str">
    encode_symm_str()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.expanded_symmetry_list">
    expanded_symmetry_list()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.reduced_symmetry_list">
    reduced_symmetry_list()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../unit_cell/" title="unit_cell">
      unit_cell
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" id="nav-4-5" type="checkbox"/>
<label class="md-nav__link" for="nav-4-5">
      Ext
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Ext" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-5">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Ext
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ext/charges/" title="chmpy.ext.charges">
      chmpy.ext.charges
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ext/elastic_tensor/" title="chmpy.ext.elastic_tensor">
      chmpy.ext.elastic_tensor
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-6" id="nav-4-6" type="checkbox"/>
<label class="md-nav__link" for="nav-4-6">
      Util
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Util" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-6">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Util
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../util/color/" title="chmpy.util.color">
      chmpy.util.color
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../util/dict/" title="chmpy.util.dict">
      chmpy.util.dict
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../util/mesh/" title="chmpy.util.mesh">
      chmpy.util.mesh
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../util/num/" title="chmpy.util.num">
      chmpy.util.num
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../util/text/" title="chmpy.util.text">
      chmpy.util.text
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation">
    chmpy.crystal.symmetry_operation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation">
    SymmetryOperation
  </a>
<nav aria-label="SymmetryOperation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.cif_form">
    cif_form
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.integer_code">
    integer_code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.seitz_matrix">
    seitz_matrix
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__add__">
    __add__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.__sub__">
    __sub__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.apply">
    apply()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.from_integer_code">
    from_integer_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.from_string_code">
    from_string_code()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.identity">
    identity()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.inverted">
    inverted()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.SymmetryOperation.is_identity">
    is_identity()
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.decode_symm_int">
    decode_symm_int()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.decode_symm_str">
    decode_symm_str()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.encode_symm_int">
    encode_symm_int()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.encode_symm_str">
    encode_symm_str()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.expanded_symmetry_list">
    expanded_symmetry_list()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#chmpy.crystal.symmetry_operation.reduced_symmetry_list">
    reduced_symmetry_list()
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1>symmetry_operation</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#chmpy.crystal.symmetry_operation" id="chmpy.crystal.symmetry_operation" style="visibility: hidden; width: 0; height: 0;">
</h2>
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation">
<code>SymmetryOperation</code>
</h2>
<div class="doc doc-contents">
<p>Class to represent a crystallographic symmetry operation,
composed of a rotation and a translation.</p>
<p><strong>Attributes:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rotation</code></td>
<td><code>np.ndarray</code></td>
<td>
<p>(3, 3) rotation matrix in fractional coordinates</p>
</td>
</tr>
<tr>
<td><code>translation</code></td>
<td><code>np.ndarray</code></td>
<td>
<p>(3) translation vector in fractional coordinates</p>
</td>
</tr>
</tbody>
</table>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.cif_form">
<code class="highlight">
cif_form: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Represent this SymmetryOperation in string form e.g. '+x,+y,+z'</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.integer_code">
<code class="highlight">
integer_code: <span class="nb">int</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Represent this SymmetryOperation as a packed integer</p>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.seitz_matrix">
<code class="highlight">
seitz_matrix: <span class="n">ndarray</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>The Seitz matrix form of this SymmetryOperation</p>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.__add__">
<code class="highlight language-python">
__add__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Add a vector to this symmetry operation's translation vector.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>a copy of this symmetry operation under additional translation"</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>254
255
256
257
258
259
260
261</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Add a vector to this symmetry operation's translation vector.</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: a copy of this symmetry operation under additional translation"</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">SymmetryOperation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">translation</span> <span class="o">+</span> <span class="n">value</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Construct a new symmetry operation from a rotation matrix and
a translation vector</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rotation</code></td>
<td><code>np.ndarray</code></td>
<td>
<p>(3, 3) rotation matrix</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>translation</code></td>
<td><code>np.ndarray</code></td>
<td>
<p>(3) translation vector</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>a new SymmetryOperation</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>208
209
210
211
212
213
214
215
216
217
218
219
220
221</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Construct a new symmetry operation from a rotation matrix and</span>
<span class="sd">    a translation vector</span>

<span class="sd">    Arguments:</span>
<span class="sd">        rotation (np.ndarray): (3, 3) rotation matrix</span>
<span class="sd">        translation (np.ndarray): (3) translation vector</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: a new SymmetryOperation</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rotation</span> <span class="o">=</span> <span class="n">rotation</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">translation</span> <span class="o">=</span> <span class="n">translation</span> <span class="o">%</span> <span class="mi">1</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.__sub__">
<code class="highlight language-python">
__sub__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Subtract a vector from this symmetry operation's translation.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>a copy of this symmetry operation under additional translation"</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>263
264
265
266
267
268
269
270</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Subtract a vector from this symmetry operation's translation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: a copy of this symmetry operation under additional translation"</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">SymmetryOperation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">translation</span> <span class="o">-</span> <span class="n">value</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.apply">
<code class="highlight language-python">
apply<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Apply this symmetry operation to a set of fractional coordinates.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>coordinates</code></td>
<td><code>ndarray</code></td>
<td>
<p>(N,3) or (N,4) array of fractional coordinates or homogeneous
fractional coordinates.</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ndarray</code></td>
<td>
<p>np.ndarray: (N, 3) array of transformed coordinates</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>272
273
274
275
276
277
278
279
280
281
282
283
284
285
286</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="sd">"""</span>
<span class="sd">    Apply this symmetry operation to a set of fractional coordinates.</span>

<span class="sd">    Args:</span>
<span class="sd">        coordinates (np.ndarray): (N,3) or (N,4) array of fractional coordinates or homogeneous</span>
<span class="sd">            fractional coordinates.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: (N, 3) array of transformed coordinates</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="n">coordinates</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">seitz_matrix</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rotation</span><span class="o">.</span><span class="n">T</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">translation</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.from_integer_code">
<code class="highlight language-python">
from_integer_code<span class="p">(</span><span class="n">code</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Alternative constructor from an integer-encoded
symmetry operation e.g. 16484</p>
<p>See also  the <code>encode_symm_int</code>, <code>decode_symm_int</code> methods.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td><code>int</code></td>
<td>
<p>integer-encoded symmetry operation</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>a new symmetry operation from the provided integer code</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_integer_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Alternative constructor from an integer-encoded</span>
<span class="sd">    symmetry operation e.g. 16484</span>

<span class="sd">    See also  the `encode_symm_int`, `decode_symm_int` methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        code (int): integer-encoded symmetry operation</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: a new symmetry operation from the provided integer code</span>
<span class="sd">    """</span>

    <span class="n">rot</span><span class="p">,</span> <span class="n">trans</span> <span class="o">=</span> <span class="n">decode_symm_int</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">SymmetryOperation</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">trans</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">"_integer_code"</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.from_string_code">
<code class="highlight language-python">
from_string_code<span class="p">(</span><span class="n">code</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Alternative constructor from a string encoded
symmetry operation e.g. '+x,+y,+z'.</p>
<p>See also the <code>encode_symm_str</code>, <code>decode_symm_str</code> methods.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td><code>str</code></td>
<td>
<p>string-encoded symmetry operation</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>a new symmetry operation from the provided string code</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_string_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Alternative constructor from a string encoded</span>
<span class="sd">    symmetry operation e.g. '+x,+y,+z'.</span>

<span class="sd">    See also the `encode_symm_str`, `decode_symm_str` methods.</span>

<span class="sd">    Args:</span>
<span class="sd">        code (str): string-encoded symmetry operation</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: a new symmetry operation from the provided string code</span>
<span class="sd">    """</span>
    <span class="n">rot</span><span class="p">,</span> <span class="n">trans</span> <span class="o">=</span> <span class="n">decode_symm_str</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">SymmetryOperation</span><span class="p">(</span><span class="n">rot</span><span class="p">,</span> <span class="n">trans</span><span class="p">)</span>
    <span class="nb">setattr</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">"_string_code"</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.identity">
<code class="highlight language-python">
identity<span class="p">()</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
</span>
</h3>
<div class="doc doc-contents">
<p>Alternative constructor for the the identity symop i.e. x,y,z</p>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>353
354
355
356</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">identity</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
    <span class="s2">"Alternative constructor for the the identity symop i.e. x,y,z"</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_integer_code</span><span class="p">(</span><span class="mi">16484</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.inverted">
<code class="highlight language-python">
inverted<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>"
A copy of this symmetry operation under inversion</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SymmetryOperation</code></td>
<td>
<p>an inverted copy of this symmetry operation</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>245
246
247
248
249
250
251
252</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">inverted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">""""</span>
<span class="sd">    A copy of this symmetry operation under inversion</span>

<span class="sd">    Returns:</span>
<span class="sd">        SymmetryOperation: an inverted copy of this symmetry operation</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">SymmetryOperation</span><span class="p">(</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">rotation</span><span class="p">,</span> <span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">translation</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.SymmetryOperation.is_identity">
<code class="highlight language-python">
is_identity<span class="p">(</span><span class="bp">self</span><span class="p">)</span> </code>
</h3>
<div class="doc doc-contents">
<p>Returns true if this is the identity symmetry operation '+x,+y,+z'</p>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>349
350
351</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">is_identity</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="s2">"Returns true if this is the identity symmetry operation '+x,+y,+z'"</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">integer_code</span> <span class="o">==</span> <span class="mi">16484</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.decode_symm_int">
<code class="highlight language-python">
decode_symm_int<span class="p">(</span><span class="n">coded_integer</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Decode an integer encoded symmetry operation. </p>
<p>A space group operation is compressed using ternary numerical system for
rotation and duodecimal system for translation. This is achieved because
each element of rotation matrix can have only one of {-1,0,1}, and the
translation can have one of {0,2,3,4,6,8,9,10} divided by 12.  Therefore
3^9 * 12^3 = 34012224 different values can map space group operations. In
principle, octal numerical system can be used for translation, but
duodecimal system is more convenient.</p>
<blockquote>
<blockquote>
<blockquote>
<p>encode_symm_str(*decode_symm_int(16484))
'+x,+y,+z'</p>
</blockquote>
</blockquote>
</blockquote>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>coded_integer</code></td>
<td><code>int</code></td>
<td>
<p>integer encoding a symmetry operation</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tuple[np.ndarray, np.ndarray]</code></td>
<td>
<p>(3,3) rotation matrix, (3) translation vector</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">decode_symm_int</span><span class="p">(</span><span class="n">coded_integer</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Decode an integer encoded symmetry operation. </span>

<span class="sd">    A space group operation is compressed using ternary numerical system for</span>
<span class="sd">    rotation and duodecimal system for translation. This is achieved because</span>
<span class="sd">    each element of rotation matrix can have only one of {-1,0,1}, and the</span>
<span class="sd">    translation can have one of {0,2,3,4,6,8,9,10} divided by 12.  Therefore</span>
<span class="sd">    3^9 * 12^3 = 34012224 different values can map space group operations. In</span>
<span class="sd">    principle, octal numerical system can be used for translation, but</span>
<span class="sd">    duodecimal system is more convenient.</span>

<span class="sd">    &gt;&gt;&gt; encode_symm_str(*decode_symm_int(16484))</span>
<span class="sd">    '+x,+y,+z'</span>

<span class="sd">    Args:</span>
<span class="sd">        coded_integer (int): integer encoding a symmetry operation</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[np.ndarray, np.ndarray]: (3,3) rotation matrix, (3) translation vector</span>
<span class="sd">    """</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">coded_integer</span> <span class="o">%</span> <span class="mi">19683</span>  <span class="c1"># 19683 = 3**9</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="mi">6561</span>  <span class="c1"># 6561 = 3**8</span>
    <span class="n">rotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
            <span class="c1"># we need integer division here</span>
            <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span> <span class="o">%</span> <span class="p">(</span><span class="n">shift</span> <span class="o">*</span> <span class="mi">3</span><span class="p">))</span> <span class="o">//</span> <span class="n">shift</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="n">shift</span> <span class="o">//=</span> <span class="mi">3</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">coded_integer</span> <span class="o">//</span> <span class="mi">19683</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="mi">144</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="c1"># we need integer division here by shift</span>
        <span class="n">translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">t</span> <span class="o">%</span> <span class="p">(</span><span class="n">shift</span> <span class="o">*</span> <span class="mi">12</span><span class="p">))</span> <span class="o">//</span> <span class="n">shift</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span>
        <span class="n">shift</span> <span class="o">//=</span> <span class="mi">12</span>
    <span class="k">return</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.decode_symm_str">
<code class="highlight language-python">
decode_symm_str<span class="p">(</span><span class="n">s</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Decode a symmetry operation represented in the string
form e.g. '1/2 + x, y, -z -0.25' into a rotation matrix
and translation vector.</p>
<blockquote>
<blockquote>
<blockquote>
<p>encode_symm_str(<em>decode_symm_str("x,y,z"))
'+x,+y,+z'
encode_symm_str(</em>decode_symm_str("1/2 - x,y-0.3333333,z"))
'1/2-x,2/3+y,+z'</p>
</blockquote>
</blockquote>
</blockquote>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>s</code></td>
<td><code>str</code></td>
<td>
<p>the encoded symmetry operation string</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tuple[np.ndarray, np.ndarray]</code></td>
<td>
<p>a (3,3) rotation matrix and a (3) translation vector</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span> 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">decode_symm_str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Decode a symmetry operation represented in the string</span>
<span class="sd">    form e.g. '1/2 + x, y, -z -0.25' into a rotation matrix</span>
<span class="sd">    and translation vector.</span>

<span class="sd">    &gt;&gt;&gt; encode_symm_str(*decode_symm_str("x,y,z"))</span>
<span class="sd">    '+x,+y,+z'</span>
<span class="sd">    &gt;&gt;&gt; encode_symm_str(*decode_symm_str("1/2 - x,y-0.3333333,z"))</span>
<span class="sd">    '1/2-x,2/3+y,+z'</span>

<span class="sd">    Args:</span>
<span class="sd">        s (str): the encoded symmetry operation string</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[np.ndarray, np.ndarray]: a (3,3) rotation matrix and a (3) translation vector</span>
<span class="sd">    """</span>
    <span class="n">rotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">" "</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">","</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
        <span class="n">fac</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">row</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">symbols</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">SYMM_STR_SYMBOL_REGEX</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">"x"</span> <span class="ow">in</span> <span class="n">symbol</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">fac</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="s2">"-x"</span> <span class="ow">in</span> <span class="n">symbol</span> <span class="k">else</span> <span class="mi">1</span>
                <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">fac</span>
            <span class="k">elif</span> <span class="s2">"y"</span> <span class="ow">in</span> <span class="n">symbol</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="mi">1</span>
                <span class="n">fac</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="s2">"-y"</span> <span class="ow">in</span> <span class="n">symbol</span> <span class="k">else</span> <span class="mi">1</span>
                <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">fac</span>
            <span class="k">elif</span> <span class="s2">"z"</span> <span class="ow">in</span> <span class="n">symbol</span><span class="p">:</span>
                <span class="n">idx</span> <span class="o">=</span> <span class="mi">2</span>
                <span class="n">fac</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="k">if</span> <span class="s2">"-z"</span> <span class="ow">in</span> <span class="n">symbol</span> <span class="k">else</span> <span class="mi">1</span>
                <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">fac</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="s2">"/"</span> <span class="ow">in</span> <span class="n">symbol</span><span class="p">:</span>
                    <span class="n">numerator</span><span class="p">,</span> <span class="n">denominator</span> <span class="o">=</span> <span class="n">symbol</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)</span>
                    <span class="n">translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span>
                        <span class="n">Fraction</span><span class="p">(</span><span class="n">numerator</span><span class="p">),</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">denominator</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="n">symbol</span><span class="p">))</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">translation</span> <span class="o">%</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.encode_symm_int">
<code class="highlight language-python">
encode_symm_int<span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Encode an integer encoded symmetry from a rotation matrix and translation
vector.</p>
<p>A space group operation is compressed using ternary numerical system for
rotation and duodecimal system for translation. This is achieved because
each element of rotation matrix can have only one of {-1,0,1}, and the
translation can have one of {0,2,3,4,6,8,9,10} divided by 12.  Therefore
3^9 * 12^3 = 34012224 different values can map space group operations. In
principle, octal numerical system can be used for translation, but
duodecimal system is more convenient.</p>
<blockquote>
<blockquote>
<blockquote>
<p>encode_symm_int(((1, 0, 0), (0, 1, 0), (0, 0, 1)), (0, 0, 0))
16484
encode_symm_int(((1, 0, 0), (0, 1, 0), (0, 1, 1)), (0, 0.5, 0))
1433663</p>
</blockquote>
</blockquote>
</blockquote>
<p>Args:
    rotation (array_like): (3,3) matrix of -1, 0, or 1s encoding the rotation component
        of the symmetry operation
    translation (array_like): (3) vector of rational numbers encoding the translation component
        of the symmetry operation</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int</code></td>
<td>
<p>the encoded symmetry operation</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">encode_symm_int</span><span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Encode an integer encoded symmetry from a rotation matrix and translation</span>
<span class="sd">    vector.</span>

<span class="sd">    A space group operation is compressed using ternary numerical system for</span>
<span class="sd">    rotation and duodecimal system for translation. This is achieved because</span>
<span class="sd">    each element of rotation matrix can have only one of {-1,0,1}, and the</span>
<span class="sd">    translation can have one of {0,2,3,4,6,8,9,10} divided by 12.  Therefore</span>
<span class="sd">    3^9 * 12^3 = 34012224 different values can map space group operations. In</span>
<span class="sd">    principle, octal numerical system can be used for translation, but</span>
<span class="sd">    duodecimal system is more convenient.</span>

<span class="sd">    &gt;&gt;&gt; encode_symm_int(((1, 0, 0), (0, 1, 0), (0, 0, 1)), (0, 0, 0))</span>
<span class="sd">    16484</span>
<span class="sd">    &gt;&gt;&gt; encode_symm_int(((1, 0, 0), (0, 1, 0), (0, 1, 1)), (0, 0.5, 0))</span>
<span class="sd">    1433663</span>

<span class="sd">     Args:</span>
<span class="sd">        rotation (array_like): (3,3) matrix of -1, 0, or 1s encoding the rotation component</span>
<span class="sd">            of the symmetry operation</span>
<span class="sd">        translation (array_like): (3) vector of rational numbers encoding the translation component</span>
<span class="sd">            of the symmetry operation</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: the encoded symmetry operation</span>
<span class="sd">    """</span>

    <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="c1"># encode rotation component</span>
    <span class="n">rotation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rotation</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">r</span> <span class="o">+=</span> <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">*</span> <span class="n">shift</span>
            <span class="n">shift</span> <span class="o">*=</span> <span class="mi">3</span>
    <span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">translation</span><span class="p">)</span> <span class="o">*</span> <span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">+=</span> <span class="n">translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">shift</span>
        <span class="n">shift</span> <span class="o">*=</span> <span class="mi">12</span>
    <span class="k">return</span> <span class="n">r</span> <span class="o">+</span> <span class="n">t</span> <span class="o">*</span> <span class="mi">19683</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.encode_symm_str">
<code class="highlight language-python">
encode_symm_str<span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Encode a rotation matrix (of -1, 0, 1s) and (rational) translation vector
into string form e.g. 1/2-x,z-1/3,-y-1/6</p>
<blockquote>
<blockquote>
<blockquote>
<p>encode_symm_str(((-1, 0, 0), (0, 0, 1), (0, 1, 0)), (0, 0.5, 1/3))
'-x,1/2+z,1/3+y'
encode_symm_str(((1, 1, 1), (1, 0, 1), (0, 1, 0)), (0, 0.5, 1/3))
'+x+y+z,1/2+x+z,1/3+y'</p>
</blockquote>
</blockquote>
</blockquote>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rotation</code></td>
<td><code>array_like</code></td>
<td>
<p>(3,3) matrix of -1, 0, or 1s encoding the rotation component
of the symmetry operation</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>translation</code></td>
<td><code>array_like</code></td>
<td>
<p>(3) vector of rational numbers encoding the translation component
of the symmetry operation</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>the encoded symmetry operation</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">encode_symm_str</span><span class="p">(</span><span class="n">rotation</span><span class="p">,</span> <span class="n">translation</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Encode a rotation matrix (of -1, 0, 1s) and (rational) translation vector</span>
<span class="sd">    into string form e.g. 1/2-x,z-1/3,-y-1/6</span>

<span class="sd">    &gt;&gt;&gt; encode_symm_str(((-1, 0, 0), (0, 0, 1), (0, 1, 0)), (0, 0.5, 1/3))</span>
<span class="sd">    '-x,1/2+z,1/3+y'</span>
<span class="sd">    &gt;&gt;&gt; encode_symm_str(((1, 1, 1), (1, 0, 1), (0, 1, 0)), (0, 0.5, 1/3))</span>
<span class="sd">    '+x+y+z,1/2+x+z,1/3+y'</span>

<span class="sd">    Args:</span>
<span class="sd">        rotation (array_like): (3,3) matrix of -1, 0, or 1s encoding the rotation component</span>
<span class="sd">            of the symmetry operation</span>
<span class="sd">        translation (array_like): (3) vector of rational numbers encoding the translation component</span>
<span class="sd">            of the symmetry operation</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: the encoded symmetry operation</span>
<span class="sd">    """</span>
    <span class="n">symbols</span> <span class="o">=</span> <span class="s2">"xyz"</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">t</span> <span class="o">=</span> <span class="n">Fraction</span><span class="p">(</span><span class="n">translation</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">.</span><span class="n">limit_denominator</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">v</span> <span class="o">=</span> <span class="s2">""</span>
        <span class="k">if</span> <span class="n">t</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">rotation</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="s2">"-"</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">"+"</span>
                <span class="n">v</span> <span class="o">+=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">symbols</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="s2">","</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.expanded_symmetry_list">
<code class="highlight language-python">
expanded_symmetry_list<span class="p">(</span><span class="n">reduced_symops</span><span class="p">,</span> <span class="n">lattice_type</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Create an expanded list of symmetry operations from the minimum
specification given a certain lattice type.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reduced_symops</code></td>
<td><code>List[SymmetryOperation]</code></td>
<td>
<p>reduced list of symmetry operations</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>lattice_type</code></td>
<td><code>int</code></td>
<td>
<p>integer encoded lattice type with SHELX conventions, i.e.</p>
<div class="codehilite">
<pre><span></span><code><span class="mi">1</span><span class="o">:</span> <span class="n">P</span><span class="o">,</span>
<span class="mi">2</span><span class="o">:</span> <span class="n">I</span><span class="o">,</span>
<span class="mi">3</span><span class="o">:</span> <span class="n">rhombohedral</span> <span class="n">obverse</span> <span class="n">on</span> <span class="n">hexagonal</span> <span class="n">axes</span><span class="o">,</span>
<span class="mi">4</span><span class="o">:</span> <span class="n">F</span><span class="o">,</span>
<span class="mi">5</span><span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="mi">6</span><span class="o">:</span> <span class="n">B</span><span class="o">,</span>
<span class="mi">7</span><span class="o">:</span> <span class="n">C</span>
</code></pre>
</div>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[SymmetryOperation]</code></td>
<td>
<p>an expanded list of symmetry operations given lattice type</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">expanded_symmetry_list</span><span class="p">(</span><span class="n">reduced_symops</span><span class="p">,</span> <span class="n">lattice_type</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Create an expanded list of symmetry operations from the minimum</span>
<span class="sd">    specification given a certain lattice type.</span>

<span class="sd">    Args:</span>
<span class="sd">        reduced_symops (List[SymmetryOperation]): reduced list of symmetry operations</span>
<span class="sd">        lattice_type (int): integer encoded lattice type with SHELX conventions, i.e.</span>
<span class="sd">            ```</span>
<span class="sd">            1: P,</span>
<span class="sd">            2: I,</span>
<span class="sd">            3: rhombohedral obverse on hexagonal axes,</span>
<span class="sd">            4: F,</span>
<span class="sd">            5: A,</span>
<span class="sd">            6: B,</span>
<span class="sd">            7: C</span>
<span class="sd">            ```</span>
<span class="sd">    Returns:</span>
<span class="sd">        List[SymmetryOperation]: an expanded list of symmetry operations given lattice type</span>
<span class="sd">    """</span>
    <span class="n">lattice_type_value</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">lattice_type</span><span class="p">)</span>
    <span class="n">translations</span> <span class="o">=</span> <span class="n">LATTICE_TYPE_TRANSLATIONS</span><span class="p">[</span><span class="n">lattice_type_value</span><span class="p">]</span>

    <span class="n">identity</span> <span class="o">=</span> <span class="n">SymmetryOperation</span><span class="o">.</span><span class="n">identity</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">identity</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
        <span class="n">LOG</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"Appending identity symop </span><span class="si">%s</span><span class="s2"> to reduced_symops"</span><span class="p">)</span>
        <span class="n">reduced_symops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">identity</span><span class="p">)</span>
    <span class="n">LOG</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"Reduced symmetry list contains </span><span class="si">%d</span><span class="s2"> symops"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">reduced_symops</span><span class="p">))</span>

    <span class="n">full_symops</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">symop</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
        <span class="n">full_symops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">symop</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">translations</span><span class="p">:</span>
            <span class="n">full_symops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">symop</span> <span class="o">+</span> <span class="n">t</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">lattice_type</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">full_symops</span> <span class="o">+=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">inverted</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">full_symops</span><span class="p">]</span>

    <span class="n">LOG</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"Expanded symmetry list contains </span><span class="si">%d</span><span class="s2"> symops"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_symops</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">full_symops</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h2 class="doc doc-heading" id="chmpy.crystal.symmetry_operation.reduced_symmetry_list">
<code class="highlight language-python">
reduced_symmetry_list<span class="p">(</span><span class="n">full_symops</span><span class="p">,</span> <span class="n">lattice_type</span><span class="p">)</span> </code>
</h2>
<div class="doc doc-contents">
<p>Reduce an expanded list of symmetry operations to the minimum
specification given a certain lattice type.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>full_symops</code></td>
<td><code>List[SymmetryOperation]</code></td>
<td>
<p>list of symmetry operations</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>lattice_type</code></td>
<td><code>int</code></td>
<td>
<p>integer encoded lattice type with SHELX conventions, i.e.</p>
<div class="codehilite">
<pre><span></span><code><span class="mi">1</span><span class="o">:</span> <span class="n">P</span><span class="o">,</span>
<span class="mi">2</span><span class="o">:</span> <span class="n">I</span><span class="o">,</span>
<span class="mi">3</span><span class="o">:</span> <span class="n">rhombohedral</span> <span class="n">obverse</span> <span class="n">on</span> <span class="n">hexagonal</span> <span class="n">axes</span><span class="o">,</span>
<span class="mi">4</span><span class="o">:</span> <span class="n">F</span><span class="o">,</span>
<span class="mi">5</span><span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="mi">6</span><span class="o">:</span> <span class="n">B</span><span class="o">,</span>
<span class="mi">7</span><span class="o">:</span> <span class="n">C</span>
</code></pre>
</div>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[SymmetryOperation]</code></td>
<td>
<p>minimal list of symmetry operations given lattice type</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>chmpy/crystal/symmetry_operation.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">reduced_symmetry_list</span><span class="p">(</span><span class="n">full_symops</span><span class="p">,</span> <span class="n">lattice_type</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Reduce an expanded list of symmetry operations to the minimum</span>
<span class="sd">    specification given a certain lattice type.</span>

<span class="sd">    Args:</span>
<span class="sd">        full_symops (List[SymmetryOperation]): list of symmetry operations</span>
<span class="sd">        lattice_type (int): integer encoded lattice type with SHELX conventions, i.e.</span>
<span class="sd">            ```</span>
<span class="sd">            1: P,</span>
<span class="sd">            2: I,</span>
<span class="sd">            3: rhombohedral obverse on hexagonal axes,</span>
<span class="sd">            4: F,</span>
<span class="sd">            5: A,</span>
<span class="sd">            6: B,</span>
<span class="sd">            7: C</span>
<span class="sd">            ```</span>
<span class="sd">    Returns:</span>
<span class="sd">        List[SymmetryOperation]: minimal list of symmetry operations given lattice type</span>
<span class="sd">    """</span>
    <span class="n">lattice_type_value</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">lattice_type</span><span class="p">)</span>
    <span class="n">translations</span> <span class="o">=</span> <span class="n">LATTICE_TYPE_TRANSLATIONS</span><span class="p">[</span><span class="n">lattice_type_value</span><span class="p">]</span>

    <span class="n">reduced_symops</span> <span class="o">=</span> <span class="p">[</span><span class="n">SymmetryOperation</span><span class="o">.</span><span class="n">identity</span><span class="p">()]</span>
    <span class="n">symops_to_process</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">full_symops</span><span class="p">)</span>

    <span class="n">inversion</span> <span class="o">=</span> <span class="n">lattice_type</span> <span class="o">&gt;</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="n">symops_to_process</span><span class="p">:</span>
        <span class="n">next_symop</span> <span class="o">=</span> <span class="n">symops_to_process</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">next_symop</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">inversion</span> <span class="ow">and</span> <span class="n">next_symop</span><span class="o">.</span><span class="n">inverted</span><span class="p">()</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">translations</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">next_symop</span> <span class="o">+</span> <span class="n">t</span>
            <span class="k">if</span> <span class="n">inversion</span> <span class="ow">and</span> <span class="n">x</span><span class="o">.</span><span class="n">inverted</span><span class="p">()</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">reduced_symops</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">reduced_symops</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_symop</span><span class="p">)</span>

    <span class="n">LOG</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">"Reduced symmetry list contains </span><span class="si">%d</span><span class="s2"> symops"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">reduced_symops</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">reduced_symops</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../space_group/" rel="prev" title="space_group">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                space_group
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../unit_cell/" rel="next" title="unit_cell">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                unit_cell
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../../../assets/javascripts/vendor.d710d30a.min.js"></script>
<script src="../../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../../..",
          features: [],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>